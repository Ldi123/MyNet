---
pageComponent:
  name: di
  data:
    path: 《Vue》笔记
    imgUrl: https://cdn.jsdelivr.net/gh/xugaoyi/image_store/blog/20200204143633.png
    description: 本章内容是博主的Vue学习笔记，非教程文档，请以官方文档为准。
title: 《Vue》笔记
date: 2021-12-05 12:16:12
permalink: /note/vue/
article: false
comment: false
editLink: false
author:
  name: di
  link: https://github.com/ldi123
---

##### iview table数据排序

通过给 `columns` 数据的项，设置 `sortable: true`，即可对该列数据进行排序

- 排序默认使用升序和降序，也可以通过设置属性 `sortMethod` 指定自定义排序函数，接收三个参数 a 、 b 和 type，自定义内部排序函数参考代码如下：

  ```javascript
          {
            title: '更新时间',
            key: 'updateTime',
            minWidth: 120,
            align: 'center',
            render: timeTableRender,
            sortable: true,
            sortMethod: (a, b, type) => {
              if (type === 'desc') {
                return parseInt(a) < parseInt(b) ? 1 : -1
              } else {
                return parseInt(a) > parseInt(b) ? 1 : -1
              }
            }
          }
  ```

- 如果使用远程排序，可以设置 `sortable: 'custom'`，然后在触发排序事件 `@on-sort-change`后，进行远程排序，并手动设置新的 data，详见 API。远程排序需要指定参数 `sort` 和 `order` 

##### iview中评分组件 `Rate` 修改

- 导入组件	

```vue
<Rate disabled allow-half show-text v-model="item.score">
<span style="color: #f5a623">{{ item.score}}</span>
</Rate> 
```

- 效果图

  ![image](https://cdn.jsdelivr.net/gh/Ldi123/my-image@master/博客插图/image.4twr1tkeit40.webp)

- 存在的问题：无法直接修改星星的颜色

  比如并没有改变颜色

  ```vue
  <Rate disabled allow-half show-text v-model="item.score" style="color:red">
  ```

- 解决过程

  - 浏览器检查代码，找到星星颜色对应的样式代码，可以看到继承了来自父级元素的样式

    ![image](https://cdn.jsdelivr.net/gh/Ldi123/my-image@master/博客插图/image.1gjszdkrl6n4.webp)

  - 第一想法自然是把这段样式代码复制到自己的代码中，然后修改颜色，改了后还是没效果

  - 学习before和after选择器

  - 再次检查元素，发现自己修改的代码被加上了随机数"data-v-68f887ed"

  - ```css
    .ivu-rate-star-full[data-v-68f887ed]:before {
        color: #23d6f5;
    }
    ```

  - 网上查了下原因

    - 项目采用`Less`作为CSS 预处理语言。在组件中习惯于使用一个带有scoped属性的Style标签，scoped 属性的效果，就是在编译打包后，在当前组件能一眼看到的标签中统一添加一个随机的属性，编译的css也会对应加上那个随机属性

  - 解决办法：样式传统--深度选择器，在我们想穿透的选择器前边添加 >>> 或者 /deep/ 或者 ::v-deep，less中建议选择 /deep/ 

  - 加上之后，颜色修改成功了！
