#### Linux定时执行脚本操作步骤

1、新建脚本文件，例如（.sh文件，.py文件）

```shell
touch test.sh
```

2、给脚本添加可执行权限

```shell
chmod +x test.sh
```

3、编辑脚本，输入要执行的内容

```shell
vi test.sh
```

4、添加`crontab` 定时任务

执行命令：

```shell
crontab -e
```

输入`i`进入编辑模式，在定时任务列表中添加一条任务，例如

```shell
10 16 * * *  python /root/test.py > /root/res.txt 2>&1
```

按`esc`键，输入`:wq`保存定时器，即可

5、`crontab`  格式

```shell
minute   hour   day   month   week   command
# For details see man 4 crontabs
# Example of job definition:
.---------------------------------- minute (0 - 59) 表示分钟
|  .------------------------------- hour (0 - 23)   表示小时
|  |  .---------------------------- day of month (1 - 31)   表示日期
|  |  |  .------------------------- month (1 - 12) OR jan,feb,mar,apr ... 表示月份
|  |  |  |  .---------------------- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat  表示星期（0 或 7 表示星期天）
|  |  |  |  |  .------------------- username  以哪个用户来执行 
|  |  |  |  |  |            .------ command  要执行的命令，可以是系统命令，也可以是自己编写的脚本文件
|  |  |  |  |  |            |
*  *  *  *  * user-name  command to be executed
```

6、`Linux`中`2>&1` 的含义

| 名称                 | 代码 | 操作符           | Java中表示 | Linux 下文件描述符（Debian 为例)             |
| :------------------- | :--- | :--------------- | :--------- | :------------------------------------------- |
| 标准输入(stdin)      | 0    | < 或 <<          | System.in  | /dev/stdin -> /proc/self/fd/0 -> /dev/pts/0  |
| 标准输出(stdout)     | 1    | >, >>, 1> 或 1>> | System.out | /dev/stdout -> /proc/self/fd/1 -> /dev/pts/0 |
| 标准错误输出(stderr) | 2    | 2> 或 2>>        | System.err | /dev/stderr -> /proc/self/fd/2 -> /dev/pts/0 |

含义：将标准错误输出重定向到标准输出

解释：

```bash
xxx.sh >log 2>&1 
```

- 本来1----->屏幕 （1指向屏幕）
- 执行>log后， 1----->log (1指向log)
- 执行2>&1后， 2----->1 (2指向1，而1指向log,因此2也指向了log)